# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview

neat-css is a classless CSS framework (~2KB gzipped) that styles raw HTML elements using only element selectors. No classes, no JavaScript, no config. It ships as an npm package (`neat-css`).

## Build Commands

```bash
npm run build          # Build both CSS and HTML
npm run build:css      # Minify neat.css → neat.min.css (uses lightningcss)
npm run build:html     # Generate index.html from README.md (uses marked)
npm run bump           # Bump version: node scripts/bump.js [patch|minor|major]
```

There are no tests or linting configured.

## Architecture

- **`neat.css`** — The source stylesheet. All styles use element selectors only (no classes). CSS custom properties defined in `:root` control theming, with a `prefers-color-scheme: dark` media query for dark mode and `@media print` for print styles.
- **`neat.min.css`** — Built artifact (gitignored). Generated by `lightningcss --minify --bundle`.
- **`index.js`** — Script-tag loader: injects `neat.min.css` via a `<link>` element when included as a `<script>`.
- **`index.html`** — Built artifact (gitignored). Generated from README.md by `scripts/build.js` using `marked`.
- **`scripts/build.js`** — Converts README.md to an HTML demo page wrapped with neat.css.
- **`scripts/bump.js`** — Bumps the version in package.json (patch/minor/major).

## CSS Custom Properties

All theming is done via `:root` variables in `neat.css`: `--text`, `--bg`, `--accent`, `--border`, `--radius`, `--measure`, `--font-sans`, `--font-mono`, etc. Dark mode overrides these same variables.

## Release Process

- Version bumps are handled via GitHub Actions workflow dispatch (`bump.yml`) which runs `scripts/bump.js`, commits, and tags.
- Pushing a `v*` tag triggers the release workflow (`release.yml`) which builds, publishes to npm, and creates a GitHub release.
- Published files (defined in `package.json` `"files"`): `neat.min.css` and `index.js`.
